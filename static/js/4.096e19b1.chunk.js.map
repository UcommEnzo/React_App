{"version":3,"sources":["components/Common/Pagination/Pagination.module.css","components/Users/User.module.css","components/Common/Pagination/Pagination.jsx","components/Users/User.jsx","components/Users/Users.jsx","redux/users-selectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","Pagination","totalUsersCount","pageSize","currentPage","onPageChanged","pageCount","Math","ceil","pages","i","push","now","map","p","length","className","c","selectedPage","onClick","event","User","user","followingInProgress","follow","unfollow","to","id","src","photos","small","userPhoto","followed","disabled","some","name","status","Users","props","users","u","key","getUsers","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","isFetching","getFollowingInProgress","UsersAPIContainer","pageNumber","requestUsers","this","Preloader","React","Component","UsersContainer","connect","toggleFollowingProgress"],"mappings":"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","file":"static/js/4.096e19b1.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"selectedPage\":\"Pagination_selectedPage__gGvOY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"user\":\"User_user__3Yk1o\"};","import React from \"react\";\r\nimport c from './Pagination.module.css';\r\n\r\nlet Pagination = ({totalUsersCount, pageSize, currentPage, onPageChanged}) => {\r\n\r\n    let pageCount = Math.ceil(totalUsersCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pageCount; i++) {\r\n        pages.push(i);\r\n    }\r\n    let now = currentPage\r\n\r\n    return <div>\r\n            {pages.map(p => {\r\n                if ((p < now + 3 && p > now - 3) ||\r\n                    p === 1 || p === pages.length)\r\n                    return <button className={currentPage === p && c.selectedPage}\r\n                                   onClick={(event) => {\r\n                                       onPageChanged(p);\r\n                                   }}>{p}</button>\r\n            })}\r\n        </div>\r\n}\r\n\r\nexport default Pagination;","import React from \"react\";\r\nimport c from './User.module.css';\r\nimport userPhoto from '../../assets/images/noavatar.png'\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nlet User = ({user, followingInProgress, follow, unfollow}) => {\r\n    return <div className={c.user}>\r\n                <span>\r\n                    <div>\r\n                         <NavLink to={'/profile/' + user.id}>\r\n                             <img src={user.photos.small != null ? user.photos.small : userPhoto}/>\r\n                         </NavLink>\r\n                    </div>\r\n\r\n                <div>\r\n                        {user.followed\r\n                            ? <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      onClick={() => {unfollow(user.id)}}>Unfollow</button>\r\n                            : <button disabled={followingInProgress.some(id => id === user.id)}\r\n                                      onClick={() => {follow(user.id)}}>Follow</button>}\r\n                </div>\r\n            </span>\r\n                <span>\r\n            <div>{user.name}</div>\r\n            <div>{user.status}</div>\r\n            </span>\r\n                <span>\r\n            <div>{'user.location.country'}</div>\r\n            <div>{'user.location.city'}</div>\r\n            </span>\r\n            </div>\r\n}\r\n\r\nexport default User;","import React from \"react\";\r\nimport Pagination from \"../Common/Pagination/Pagination\";\r\nimport User from \"./User\";\r\n\r\nlet Users = ({totalUsersCount, pageSize, currentPage, onPageChanged, ...props}) => {\r\n\r\n    return <div>\r\n\r\n        <Pagination totalUsersCount={totalUsersCount} pageSize={pageSize}\r\n                    currentPage={currentPage} onPageChanged={onPageChanged}/>\r\n        <div>\r\n            {props.users.map(u => <User key={u.id} unfollow={props.unfollow}\r\n                                        follow={props.follow} user={u}\r\n                                        followingInProgress={props.followingInProgress}/>)\r\n            }\r\n        </div>\r\n    </div>\r\n}\r\n\r\nexport default Users;","export const getUsers = (state) => {\r\n    return state.usersPage.users;\r\n}\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage;\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress;\r\n}","import React from \"react\";\r\nimport {connect} from \"react-redux\";\r\nimport {\r\n    follow, requestUsers,\r\n    toggleFollowingProgress,\r\n    unfollow\r\n} from \"../../redux/users-reducer\";\r\nimport Users from \"./Users\";\r\nimport Preloader from \"../Common/Preloader/Preloader\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersAPIContainer extends React.Component {\r\n    componentDidMount() {\r\n        const {currentPage, pageSize} = this.props\r\n        this.props.requestUsers(currentPage, pageSize);\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        const  {pageSize} = this.props\r\n        this.props.requestUsers(pageNumber, pageSize);\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users totalUsersCount={this.props.totalUsersCount}\r\n                   pageSize={this.props.pageSize}\r\n                   currentPage={this.props.currentPage}\r\n                   onPageChanged={this.onPageChanged}\r\n                   users={this.props.users}\r\n                   unfollow={this.props.unfollow}\r\n                   follow={this.props.follow}\r\n                   followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nconst UsersContainer = connect(mapStateToProps, {follow, unfollow, toggleFollowingProgress, requestUsers})(UsersAPIContainer);\r\n\r\n\r\nexport default UsersContainer;"],"sourceRoot":""}